{"ast":null,"code":"import React from\"react\";import IconButton from\"@mui/material/IconButton\";import FavoriteBorder from\"@mui/icons-material/FavoriteBorder\";import FavoriteIcon from\"@mui/icons-material/Favorite\";import{useDispatch,useSelector}from\"react-redux\";import{addFavorite,removeFavorite}from\"../../redux/slices/favoritesSlice\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";const FavoriteButton=_ref=>{let{movie}=_ref;const dispatch=useDispatch();const isLoggedIn=useSelector(state=>state.user.isLoggedIn);const favorites=useSelector(state=>state.favorites.favorites);const isFavorite=favorites.some(fav=>fav.imdbID===movie.imdbID);const handleFavoriteClick=()=>{if(isLoggedIn){if(isFavorite){dispatch(removeFavorite(movie.imdbID));toast.success(\"Remove from Favourite\");}else{dispatch(addFavorite(movie));toast.success(\"Added to Favourite\");}}else{toast.error(\"You must be logged in to add favorite movies.\");}};return/*#__PURE__*/_jsx(IconButton,{onClick:handleFavoriteClick,color:\"default\",children:isFavorite?/*#__PURE__*/_jsx(FavoriteIcon,{sx:{color:\"red\"}}):/*#__PURE__*/_jsx(FavoriteBorder,{})});};export default FavoriteButton;","map":{"version":3,"names":["React","IconButton","FavoriteBorder","FavoriteIcon","useDispatch","useSelector","addFavorite","removeFavorite","toast","jsx","_jsx","FavoriteButton","_ref","movie","dispatch","isLoggedIn","state","user","favorites","isFavorite","some","fav","imdbID","handleFavoriteClick","success","error","onClick","color","children","sx"],"sources":["/home/mohdadil/Desktop/MERN/movies-explorer-mern/frontend/src/utils/FavouriteButton/FavoriteButton.tsx"],"sourcesContent":["import React from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport FavoriteBorder from \"@mui/icons-material/FavoriteBorder\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState, AppDispatch } from \"../../redux/store\";\nimport { addFavorite, removeFavorite } from \"../../redux/slices/favoritesSlice\";\nimport { toast } from \"react-toastify\";\nimport {  SimplifiedMovie } from \"../../utils/interface/types\";\n\ninterface FavoriteButtonProps {\n  movie: SimplifiedMovie;\n}\n\nconst FavoriteButton: React.FC<FavoriteButtonProps> = ({ movie }) => {\n  const dispatch: AppDispatch = useDispatch();\n  const isLoggedIn = useSelector((state: RootState) => state.user.isLoggedIn);\n  const favorites = useSelector(\n    (state: RootState) => state.favorites.favorites\n  );\n\n  const isFavorite = favorites.some((fav) => fav.imdbID === movie.imdbID);\n\n  const handleFavoriteClick = () => {\n    if (isLoggedIn) {\n      if (isFavorite) {\n        dispatch(removeFavorite(movie.imdbID));\n        toast.success(\"Remove from Favourite\");\n      } else {\n        dispatch(addFavorite(movie));\n        toast.success(\"Added to Favourite\");\n      }\n    } else {\n      toast.error(\"You must be logged in to add favorite movies.\");\n    }\n  };\n\n  return (\n    <IconButton onClick={handleFavoriteClick} color=\"default\">\n      {isFavorite ? <FavoriteIcon sx={{ color: \"red\" }} /> : <FavoriteBorder />}\n    </IconButton>\n  );\n};\n\nexport default FavoriteButton;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,CAAAC,YAAY,KAAM,8BAA8B,CACvD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,OAASC,WAAW,CAAEC,cAAc,KAAQ,mCAAmC,CAC/E,OAASC,KAAK,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAOvC,KAAM,CAAAC,cAA6C,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAC9D,KAAM,CAAAE,QAAqB,CAAGV,WAAW,CAAC,CAAC,CAC3C,KAAM,CAAAW,UAAU,CAAGV,WAAW,CAAEW,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACF,UAAU,CAAC,CAC3E,KAAM,CAAAG,SAAS,CAAGb,WAAW,CAC1BW,KAAgB,EAAKA,KAAK,CAACE,SAAS,CAACA,SACxC,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGD,SAAS,CAACE,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,MAAM,GAAKT,KAAK,CAACS,MAAM,CAAC,CAEvE,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,GAAIR,UAAU,CAAE,CACd,GAAII,UAAU,CAAE,CACdL,QAAQ,CAACP,cAAc,CAACM,KAAK,CAACS,MAAM,CAAC,CAAC,CACtCd,KAAK,CAACgB,OAAO,CAAC,uBAAuB,CAAC,CACxC,CAAC,IAAM,CACLV,QAAQ,CAACR,WAAW,CAACO,KAAK,CAAC,CAAC,CAC5BL,KAAK,CAACgB,OAAO,CAAC,oBAAoB,CAAC,CACrC,CACF,CAAC,IAAM,CACLhB,KAAK,CAACiB,KAAK,CAAC,+CAA+C,CAAC,CAC9D,CACF,CAAC,CAED,mBACEf,IAAA,CAACT,UAAU,EAACyB,OAAO,CAAEH,mBAAoB,CAACI,KAAK,CAAC,SAAS,CAAAC,QAAA,CACtDT,UAAU,cAAGT,IAAA,CAACP,YAAY,EAAC0B,EAAE,CAAE,CAAEF,KAAK,CAAE,KAAM,CAAE,CAAE,CAAC,cAAGjB,IAAA,CAACR,cAAc,GAAE,CAAC,CAC/D,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAS,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}