{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import IconButton from\"@mui/material/IconButton\";import StarBorderIcon from\"@mui/icons-material/StarBorder\";import StarIcon from\"@mui/icons-material/Star\";import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const RatingComponent=_ref=>{let{movieId,handleRatingClick,initialRating,userId,userName}=_ref;const[rating,setRating]=useState(initialRating);const dispatch=useDispatch();const isLoggedIn=useSelector(state=>state.user.isLoggedIn);useEffect(()=>{if(initialRating!==null){setRating(initialRating);}},[initialRating]);const handleClick=value=>{if(isLoggedIn){setRating(value);handleRatingClick(value);}else{console.warn(\"User is not logged in\");}};return/*#__PURE__*/_jsx(_Fragment,{children:[1,2,3,4,5].map(value=>/*#__PURE__*/_jsx(IconButton,{onClick:()=>handleClick(value),children:rating&&rating>=value?/*#__PURE__*/_jsx(StarIcon,{sx:{color:\"yellow\"}}):/*#__PURE__*/_jsx(StarBorderIcon,{})},value))});};export default RatingComponent;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","IconButton","StarBorderIcon","StarIcon","jsx","_jsx","Fragment","_Fragment","RatingComponent","_ref","movieId","handleRatingClick","initialRating","userId","userName","rating","setRating","dispatch","isLoggedIn","state","user","handleClick","value","console","warn","children","map","onClick","sx","color"],"sources":["/home/mohdadil/Desktop/MERN/movies-explorer-mern/frontend/src/components/Rating/RatingComponent.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { RootState, AppDispatch } from \"../../redux/store\";\nimport IconButton from \"@mui/material/IconButton\";\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\nimport StarIcon from \"@mui/icons-material/Star\";\nimport { RatingComponentProps } from \"../../utils/interface/types\";\n\n\n\nconst RatingComponent: React.FC<RatingComponentProps> = ({\n  movieId,\n  handleRatingClick,\n  initialRating,\n  userId,\n  userName,\n}) => {\n  const [rating, setRating] = useState<number | null>(initialRating);\n  const dispatch: AppDispatch = useDispatch();\n  const isLoggedIn = useSelector((state: RootState) => state.user.isLoggedIn);\n\n  useEffect(() => {\n    if (initialRating !== null) {\n      setRating(initialRating);\n    }\n  }, [initialRating]);\n\n  const handleClick = (value: number) => {\n    if (isLoggedIn) {\n      setRating(value);\n      handleRatingClick(value); \n    } else {\n      console.warn(\"User is not logged in\");\n    }\n  };\n\n  return (\n    <>\n      {[1, 2, 3, 4, 5].map((value) => (\n        <IconButton key={value} onClick={() => handleClick(value)}>\n          {rating && rating >= value ? (\n            <StarIcon sx={{ color: \"yellow\" }} />\n          ) : (\n            <StarBorderIcon />\n          )}\n        </IconButton>\n      ))}\n    </>\n  );\n};\n\nexport default RatingComponent;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,cAAc,KAAM,gCAAgC,CAC3D,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAKhD,KAAM,CAAAC,eAA+C,CAAGC,IAAA,EAMlD,IANmD,CACvDC,OAAO,CACPC,iBAAiB,CACjBC,aAAa,CACbC,MAAM,CACNC,QACF,CAAC,CAAAL,IAAA,CACC,KAAM,CAACM,MAAM,CAAEC,SAAS,CAAC,CAAGnB,QAAQ,CAAgBe,aAAa,CAAC,CAClE,KAAM,CAAAK,QAAqB,CAAGjB,WAAW,CAAC,CAAC,CAC3C,KAAM,CAAAkB,UAAU,CAAGnB,WAAW,CAAEoB,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACF,UAAU,CAAC,CAE3EpB,SAAS,CAAC,IAAM,CACd,GAAIc,aAAa,GAAK,IAAI,CAAE,CAC1BI,SAAS,CAACJ,aAAa,CAAC,CAC1B,CACF,CAAC,CAAE,CAACA,aAAa,CAAC,CAAC,CAEnB,KAAM,CAAAS,WAAW,CAAIC,KAAa,EAAK,CACrC,GAAIJ,UAAU,CAAE,CACdF,SAAS,CAACM,KAAK,CAAC,CAChBX,iBAAiB,CAACW,KAAK,CAAC,CAC1B,CAAC,IAAM,CACLC,OAAO,CAACC,IAAI,CAAC,uBAAuB,CAAC,CACvC,CACF,CAAC,CAED,mBACEnB,IAAA,CAAAE,SAAA,EAAAkB,QAAA,CACG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAAEJ,KAAK,eACzBjB,IAAA,CAACJ,UAAU,EAAa0B,OAAO,CAAEA,CAAA,GAAMN,WAAW,CAACC,KAAK,CAAE,CAAAG,QAAA,CACvDV,MAAM,EAAIA,MAAM,EAAIO,KAAK,cACxBjB,IAAA,CAACF,QAAQ,EAACyB,EAAE,CAAE,CAAEC,KAAK,CAAE,QAAS,CAAE,CAAE,CAAC,cAErCxB,IAAA,CAACH,cAAc,GAAE,CAClB,EALcoB,KAML,CACb,CAAC,CACF,CAAC,CAEP,CAAC,CAED,cAAe,CAAAd,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}