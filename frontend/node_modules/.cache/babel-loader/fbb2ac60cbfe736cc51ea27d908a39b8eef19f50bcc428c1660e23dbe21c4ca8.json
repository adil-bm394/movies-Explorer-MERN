{"ast":null,"code":"var _jsxFileName = \"/home/mohdadil/Desktop/MERN/movies-explorer-mern/frontend/src/components/Rating/RatingComponent.tsx\",\n  _s = $RefreshSig$();\n// RatingComponent.tsx\nimport React, { useState, useEffect } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\nimport StarIcon from \"@mui/icons-material/Star\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useDispatch } from \"react-redux\";\nimport { addRating } from \"../../redux/slices/moviesSlice\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RatingComponent = ({\n  isLoggedIn,\n  initialRating,\n  movieId,\n  userId,\n  userName\n}) => {\n  _s();\n  const [rating, setRating] = useState(initialRating);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setRating(initialRating);\n  }, [initialRating]);\n  const handleRatingClick = value => {\n    if (isLoggedIn) {\n      setRating(value);\n      dispatch(addRating({\n        movieId,\n        rating: value,\n        userId,\n        userName\n      }));\n    } else {\n      toast.error(\"You must be logged in to rate movies.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [[1, 2, 3, 4, 5].map(value => /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: () => handleRatingClick(value),\n      children: rating && rating >= value ? /*#__PURE__*/_jsxDEV(StarIcon, {\n        sx: {\n          color: \"yellow\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(StarBorderIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(RatingComponent, \"QTI7cIXfCkckh+2VsaRh4YxgIAY=\", false, function () {\n  return [useDispatch];\n});\n_c = RatingComponent;\nexport default RatingComponent;\nvar _c;\n$RefreshReg$(_c, \"RatingComponent\");","map":{"version":3,"names":["React","useState","useEffect","IconButton","StarBorderIcon","StarIcon","ToastContainer","toast","useDispatch","addRating","jsxDEV","_jsxDEV","Fragment","_Fragment","RatingComponent","isLoggedIn","initialRating","movieId","userId","userName","_s","rating","setRating","dispatch","handleRatingClick","value","error","children","map","onClick","sx","color","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/mohdadil/Desktop/MERN/movies-explorer-mern/frontend/src/components/Rating/RatingComponent.tsx"],"sourcesContent":["// RatingComponent.tsx\nimport React, { useState, useEffect } from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport StarBorderIcon from \"@mui/icons-material/StarBorder\";\nimport StarIcon from \"@mui/icons-material/Star\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useDispatch } from \"react-redux\";\nimport { addRating } from \"../../redux/slices/moviesSlice\";\n\ninterface RatingComponentProps {\n  isLoggedIn: boolean;\n  initialRating: number | null;\n  movieId: string;\n  userId: string;\n  userName: string;\n}\n\nconst RatingComponent: React.FC<RatingComponentProps> = ({\n  isLoggedIn,\n  initialRating,\n  movieId,\n  userId,\n  userName,\n}) => {\n  const [rating, setRating] = useState<number | null>(initialRating);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setRating(initialRating);\n  }, [initialRating]);\n\n  const handleRatingClick = (value: number) => {\n    if (isLoggedIn) {\n      setRating(value);\n      dispatch(addRating({ movieId, rating: value, userId, userName }));\n    } else {\n      toast.error(\"You must be logged in to rate movies.\");\n    }\n  };\n\n  return (\n    <>\n      {[1, 2, 3, 4, 5].map((value) => (\n        <IconButton key={value} onClick={() => handleRatingClick(value)}>\n          {rating && rating >= value ? (\n            <StarIcon sx={{ color: \"yellow\" }} />\n          ) : (\n            <StarBorderIcon />\n          )}\n        </IconButton>\n      ))}\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default RatingComponent;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,SAASC,cAAc,EAAEC,KAAK,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAC9C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAU3D,MAAMC,eAA+C,GAAGA,CAAC;EACvDC,UAAU;EACVC,aAAa;EACbC,OAAO;EACPC,MAAM;EACNC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAgBe,aAAa,CAAC;EAClE,MAAMO,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9BN,SAAS,CAAC,MAAM;IACdoB,SAAS,CAACN,aAAa,CAAC;EAC1B,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,MAAMQ,iBAAiB,GAAIC,KAAa,IAAK;IAC3C,IAAIV,UAAU,EAAE;MACdO,SAAS,CAACG,KAAK,CAAC;MAChBF,QAAQ,CAACd,SAAS,CAAC;QAAEQ,OAAO;QAAEI,MAAM,EAAEI,KAAK;QAAEP,MAAM;QAAEC;MAAS,CAAC,CAAC,CAAC;IACnE,CAAC,MAAM;MACLZ,KAAK,CAACmB,KAAK,CAAC,uCAAuC,CAAC;IACtD;EACF,CAAC;EAED,oBACEf,OAAA,CAAAE,SAAA;IAAAc,QAAA,GACG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAEH,KAAK,iBACzBd,OAAA,CAACR,UAAU;MAAa0B,OAAO,EAAEA,CAAA,KAAML,iBAAiB,CAACC,KAAK,CAAE;MAAAE,QAAA,EAC7DN,MAAM,IAAIA,MAAM,IAAII,KAAK,gBACxBd,OAAA,CAACN,QAAQ;QAACyB,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAS;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAErCxB,OAAA,CAACP,cAAc;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAClB,GALcV,KAAK;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAMV,CACb,CAAC,eACFxB,OAAA,CAACL,cAAc;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eAClB,CAAC;AAEP,CAAC;AAACf,EAAA,CArCIN,eAA+C;EAAA,QAQlCN,WAAW;AAAA;AAAA4B,EAAA,GARxBtB,eAA+C;AAuCrD,eAAeA,eAAe;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}